<!DOCTYPE html>
<html lang="en">
<head>
  <title>Alexander S. Corey</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
	
<nav class="navbar navbar-expand-sm bg-info navbar-dark justify-content-center sticky-top">
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a class="nav-link" href="index.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="bio.html">About me</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="static/ACoreyResume.pdf" target="_blank" rel="noopener noreferrer">Resume</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://github.com/acoreynews" target="_blank" rel="noopener noreferrer">Github</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://linkedin.com/in/alexander-s-corey" target="_blank" rel="noopener noreferrer">Linkedin</a>
    </li>
  </ul>
</nav>



<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #888888">#   author: Alexander Corey</span>
<span style="color: #888888">#   file:   classScores.rb</span>
<span style="color: #888888">#   date:   2019-10-29</span>
<span style="color: #888888">#   brief:  This program reads a csv text file containing scores</span>
<span style="color: #888888">#           and creates an HTML file to display them.</span>
<span style="color: #007020">require</span> <span style="background-color: #fff0f0">&#39;csv&#39;</span>

<span style="color: #dd7700; font-weight: bold">$htmlOutput</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;scores.html&quot;</span>
<span style="color: #dd7700; font-weight: bold">$flagNamesIds</span> <span style="color: #333333">=</span> <span style="color: #003388; font-weight: bold">false</span> 
<span style="color: #dd7700; font-weight: bold">$htmlOutput</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;scores.html&quot;</span>


<span style="color: #008800; font-weight: bold">if</span> <span style="color: #003366; font-weight: bold">ARGV</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">]</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;-ids&quot;</span> 
  <span style="color: #dd7700; font-weight: bold">$flagNamesIds</span> <span style="color: #333333">=</span> <span style="color: #003388; font-weight: bold">false</span>
<span style="color: #008800; font-weight: bold">elsif</span> <span style="color: #003366; font-weight: bold">ARGV</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">]</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;-names&quot;</span>
  <span style="color: #dd7700; font-weight: bold">$flagNamesIds</span> <span style="color: #333333">=</span> <span style="color: #003388; font-weight: bold">true</span>
<span style="color: #008800; font-weight: bold">else</span> 
  <span style="color: #007020">puts</span> <span style="background-color: #fff0f0">&quot;Invalid command line arg. Please enter -ids or -names.</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">&quot;</span>
<span style="color: #008800; font-weight: bold">end</span>


<span style="color: #888888"># reading from file</span>
inputFile <span style="color: #333333">=</span> <span style="color: #003366; font-weight: bold">ARGV</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>

<span style="color: #888888">#grab title</span>
file <span style="color: #333333">=</span> <span style="color: #003366; font-weight: bold">File</span><span style="color: #333333">.</span>open(inputFile, <span style="background-color: #fff0f0">&quot;r&quot;</span>)
line <span style="color: #333333">=</span> file<span style="color: #333333">.</span>readline
<span style="color: #dd7700; font-weight: bold">$classTitle</span> <span style="color: #333333">=</span> line<span style="color: #333333">.</span>split(<span style="background-color: #fff0f0">&quot;,&quot;</span>, <span style="color: #0000DD; font-weight: bold">2</span>)
file<span style="color: #333333">.</span>close
<span style="color: #dd7700; font-weight: bold">$classTitle</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span> <span style="color: #333333">=</span> <span style="color: #dd7700; font-weight: bold">$classTitle</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">].</span>split(<span style="background-color: #fff0f0">&quot;,&quot;</span>)<span style="color: #333333">.</span>first

<span style="color: #888888">#create table</span>
table <span style="color: #333333">=</span> <span style="color: #003366; font-weight: bold">CSV</span><span style="color: #333333">.</span>parse(<span style="color: #003366; font-weight: bold">File</span><span style="color: #333333">.</span>read(inputFile), <span style="color: #AA6600">headers</span>: <span style="color: #003388; font-weight: bold">true</span>)
<span style="color: #888888"># Parse main columns</span>
<span style="color: #dd7700; font-weight: bold">$assignStr</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>
<span style="color: #dd7700; font-weight: bold">$assignCount</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">].</span>to_i
<span style="color: #dd7700; font-weight: bold">$testStr</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>
<span style="color: #dd7700; font-weight: bold">$testCount</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">].</span>to_i
<span style="color: #dd7700; font-weight: bold">$assignWeightStr</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>
<span style="color: #dd7700; font-weight: bold">$assignWeight</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">].</span>to_i
<span style="color: #dd7700; font-weight: bold">$testWeightStr</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>
<span style="color: #dd7700; font-weight: bold">$testWeight</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">].</span>to_i
<span style="color: #dd7700; font-weight: bold">$titleRowLen</span> <span style="color: #333333">=</span> table<span style="color: #333333">.</span>by_row<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">4</span><span style="color: #333333">].</span>length
<span style="color: #dd7700; font-weight: bold">$possStr</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span>
<span style="color: #dd7700; font-weight: bold">$possScores</span> <span style="color: #333333">=</span> table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">].</span>to_i

<span style="color: #dd7700; font-weight: bold">$numStudents</span> <span style="color: #333333">=</span> table<span style="color: #333333">.</span>by_col<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">].</span>length
<span style="color: #dd7700; font-weight: bold">$numStudents</span><span style="color: #333333">.</span>to_i
<span style="color: #dd7700; font-weight: bold">$numStudents</span> <span style="color: #333333">-=</span> <span style="color: #0000DD; font-weight: bold">6</span>

<span style="color: #888888"># cleaning data</span>
<span style="color: #dd7700; font-weight: bold">$var3</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #dd7700; font-weight: bold">$index3</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #008800; font-weight: bold">if</span> (<span style="color: #dd7700; font-weight: bold">$flagNamesIds</span> <span style="color: #333333">==</span> <span style="color: #003388; font-weight: bold">false</span>)
<span style="color: #008800; font-weight: bold">while</span> (<span style="color: #dd7700; font-weight: bold">$index3</span> <span style="color: #333333">&lt;</span> table<span style="color: #333333">.</span>by_col<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">].</span>length)
  table<span style="color: #333333">[</span><span style="color: #dd7700; font-weight: bold">$var3</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>
  <span style="color: #dd7700; font-weight: bold">$var3</span>   <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
  <span style="color: #dd7700; font-weight: bold">$index3</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span> 
<span style="color: #008800; font-weight: bold">end</span>
<span style="color: #008800; font-weight: bold">end</span>


<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #dd7700; font-weight: bold">$var</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>

<span style="color: #888888"># Build and output html file</span>
file2 <span style="color: #333333">=</span> <span style="color: #003366; font-weight: bold">File</span><span style="color: #333333">.</span>open(<span style="color: #dd7700; font-weight: bold">$htmlOutput</span>, <span style="background-color: #fff0f0">&quot;w&quot;</span>)
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;html&gt;&lt;head&gt;&lt;style&gt;</span>
<span style="background-color: #fff0f0">table {</span>
<span style="background-color: #fff0f0">  font-family: Helvetica, sans-serif;</span>
<span style="background-color: #fff0f0">  border-collapse: collapse;</span>
<span style="background-color: #fff0f0">  width: 100%;</span>
<span style="background-color: #fff0f0">}</span>

<span style="background-color: #fff0f0">td, th {</span>
<span style="background-color: #fff0f0">  border: 1px solid #dddddd;</span>
<span style="background-color: #fff0f0">  text-align: left;</span>
<span style="background-color: #fff0f0">  padding: 8px;</span>
<span style="background-color: #fff0f0">}</span>

<span style="background-color: #fff0f0">tr:nth-child(even) {</span>
<span style="background-color: #fff0f0">  background-color: #dddddd;</span>
<span style="background-color: #fff0f0">}</span>
<span style="background-color: #fff0f0">&lt;/style&gt;&lt;h1&gt; </span><span style="background-color: #eeeeee">#{</span><span style="color: #dd7700; font-weight: bold">$classTitle</span><span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> &lt;/h1&gt;&lt;/head&gt;&lt;body&gt;&quot;</span>

<span style="color: #888888">#file2.puts &quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;#{$assignments[$index]}&lt;/th&gt;&quot;</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;table&gt;&lt;tr&gt;&quot;</span>

<span style="color: #008800; font-weight: bold">while</span> (<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">&lt;</span> <span style="color: #dd7700; font-weight: bold">$titleRowLen</span>)
<span style="color: #888888">#while ($index &lt; 8)</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;th&gt;</span><span style="background-color: #eeeeee">#{</span>table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">4</span><span style="color: #333333">][</span><span style="color: #dd7700; font-weight: bold">$var</span><span style="color: #333333">]</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">&lt;/th&gt;&quot;</span>
<span style="color: #dd7700; font-weight: bold">$var</span><span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
<span style="color: #008800; font-weight: bold">end</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span>


<span style="color: #dd7700; font-weight: bold">$var</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #dd7700; font-weight: bold">$row</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">6</span>
<span style="color: #dd7700; font-weight: bold">$col</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #888888">#reset index</span>
<span style="color: #008800; font-weight: bold">while</span> (<span style="color: #dd7700; font-weight: bold">$var</span> <span style="color: #333333">&lt;</span> <span style="color: #dd7700; font-weight: bold">$numStudents</span>)
  <span style="color: #008800; font-weight: bold">while</span> (<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">&lt;</span> <span style="color: #dd7700; font-weight: bold">$titleRowLen</span>)

  file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;td&gt;</span><span style="background-color: #eeeeee">#{</span>table<span style="color: #333333">[</span><span style="color: #dd7700; font-weight: bold">$row</span><span style="color: #333333">][</span><span style="color: #dd7700; font-weight: bold">$col</span><span style="color: #333333">]</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">&lt;/td&gt;&quot;</span>
  <span style="color: #dd7700; font-weight: bold">$col</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
  <span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
  <span style="color: #888888">#puts table[$row][$col]</span>
  <span style="color: #008800; font-weight: bold">end</span>
  <span style="color: #dd7700; font-weight: bold">$var</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
  <span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
  <span style="color: #dd7700; font-weight: bold">$row</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #888888">#works</span>
  <span style="color: #dd7700; font-weight: bold">$col</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #888888">#reset col</span>
  file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span>
<span style="color: #008800; font-weight: bold">end</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;/tr&gt;&quot;</span>

<span style="color: #888888">#possible scores</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;th&gt;</span><span style="background-color: #eeeeee">#{</span>table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">&lt;/th&gt;&quot;</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;th&gt;  &lt;/th&gt;&quot;</span>
<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
<span style="color: #dd7700; font-weight: bold">$var</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">2</span>
<span style="color: #008800; font-weight: bold">while</span> (<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">&lt;</span> <span style="color: #dd7700; font-weight: bold">$titleRowLen</span> <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>)

file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;th&gt;</span><span style="background-color: #eeeeee">#{</span>table<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">][</span><span style="color: #dd7700; font-weight: bold">$var</span><span style="color: #333333">]</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">&lt;/th&gt;&quot;</span>
<span style="color: #dd7700; font-weight: bold">$var</span><span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
<span style="color: #dd7700; font-weight: bold">$index</span> <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
<span style="color: #008800; font-weight: bold">end</span>
file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;/tr&gt;&quot;</span>



file2<span style="color: #333333">.</span>puts <span style="background-color: #fff0f0">&quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>
file2<span style="color: #333333">.</span>close
</pre></td></tr></table></div>



</body>
</html> 